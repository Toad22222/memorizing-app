<!DOCTYPE HTML>
<!--
	Phase Shift by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
		<script src="//www.parsecdn.com/js/parse-1.5.0.min.js"></script>
		<script src="bootstrap-sweetalert/lib/sweet-alert.min.js"></script>
		<link rel="stylesheet" type="text/css" href="bootstrap-sweetalert/lib/sweet-alert.css">
		<title>Memoreyes</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.dropotron.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<script src="js/create-module.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-wide.css" />
		<style>
		.navButtonLeft {
			width:15px;
			height:20px;
			opacity:0.5;
			display: inline-block;
			margin-left:20%;
			float:left;
		}
		.navButtonRight {
			width:15px;
			height:20px;
			opacity:0.5;
			display: inline-block;
			margin-right:20%;
			float:right;
		}
		#wrapper { z-index: 5000px;border: 2px solid red;overflow:hidden; width:auto;}
		#col1 { width: 30%; float:left; background-color:pink;}
		#col2 { width: 40%; float:center; background-color: orange;}
		#col3 { width: 30%; float:right; background-color:magenta;}

		</style>
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->

		<script>
		$(document).ready(function(){

			Parse.$ = jQuery;
			Parse.initialize('Qud6XC8J8PtKl4QQZDoi1bg4s5wqzewRlgjdJjwR', 'iBdSj2kUv4I9O6ZrfQydAAb3c0zVldhCB8pxRhwr');

			var TextModule = Parse.Object.extend("TextModule"); 
			var query = new Parse.Query(TextModule);
			query.find({
				success: function(results) {
					for (var i = 0; i < results.length; i++) {

						//find the values for each text module from Parse
						var textModule = results[i];
						var title  = textModule.get("title");
				  		var details = textModule.get("details");
				  		var text = textModule.get("text");

				  		//create the wrapper for the text module
				  		var moduleSection = document.createElement("section");
						moduleSection.setAttribute('class', '4u');
						moduleSection.setAttribute('style', 'margin-bottom:20px;');
						moduleSection.setAttribute('id', 'moduleSection' + i);


						//make the children for the text module
						var moduleImageA = document.createElement("a");
						moduleImageA.setAttribute('class','image featured');
						var moduleImage = document.createElement("img");
						moduleImage.setAttribute('src', 'images/picture' + ((i % 3) + 1) + ".jpg");
						var moduleBox = document.createElement("div");
						moduleBox.setAttribute('class', 'box');
						moduleBox.innerHTML = "<p id='title" + i + "'>" + title + "</p>";
						var detailsBox = document.createElement("div");
						detailsBox.setAttribute('class', 'details');
						if (text.length <= 100) {
							detailsBox.innerHTML = "<p id='text" + i + "'>" + text + "</p>";
						} else {
							detailsBox.innerHTML = "<p id='text" + i + "'>" + text.substring(0,100) + "...</p>";
						}

						var memorizeButton = document.createElement("a");
						memorizeButton.setAttribute('href', 'memoreyes.php?id=' + textModule.id);
						memorizeButton.setAttribute('class', 'button');
						memorizeButton.innerHTML = "Memorize Now";

						//append children into text module wrapper
						moduleImageA.appendChild(moduleImage);
						moduleSection.appendChild(moduleImageA);
						moduleBox.appendChild(detailsBox);
						moduleBox.appendChild(memorizeButton);						
						moduleSection.appendChild(moduleBox);

						document.getElementById("moduleSectionWrapper").appendChild(moduleSection);
					}
					var tripletIndex = 0;
						displayModules(tripletIndex);

						$("#nextModules").click(function(event){
							event.preventDefault();
							tripletIndex += 1;
						    $("#prevModules").show();
						    if (tripletIndex >= results.length - 3) {
						      $("#nextModules").hide();
						    }
							displayModules(tripletIndex);
						});
						$("#prevModules").click(function(event){
							event.preventDefault();
							tripletIndex -= 1;
							$("#nextModules").show();
						    if (tripletIndex <= 0) {
						      $("#prevModules").hide();
						    }
							displayModules(tripletIndex);
						});						

					     function displayModules(tripletIndex) {
					     	var firstModule = tripletIndex;
					     	for (var x = 0; x < results.length; x++) {
					     		if (x == firstModule || x == firstModule + 1 || x == firstModule + 2) {
					          		document.getElementById("moduleSection" + x).setAttribute("style", "display:inline-block;");
					     		} else {
					          		document.getElementById("moduleSection" + x).setAttribute("style", "display:none;");
					     		}
					     	}
					    }
				},
				error: function(error) {
				  console.log("there was an error in retriving in pull-module.js");
				}
			});
		});

</script>


	</head>
	<body>

		<!-- Wrapper -->
			<div class="wrapper style1">

				<!-- Header -->
					<div id="header" class="skel-panels-fixed">
						<div id="logo">
							<h1><a href="index.html">Memoreyes</a></h1>
							<!-- <span class="tag">by Lionheart</span> -->
						</div>
						<nav id="nav">
							<ul>
								<li class="active"><a href="index.html">Home</a></li>
								<li><a href="#extra">Popular</a></li>
								<li><a href="#footer">Create</a></li>
								<!-- <li><a href="text-module.html">Memorize</a></li> -->
							</ul>
						</nav>
					</div>

				<!-- Banner -->
					<div id="banner" class="container">
						<section>
							<p><strong><font size="10">memorEYES</font></strong> <br> make memorizing colorful<br>A new associative learning and interactive memorization experience. <br> Match your words, lines and facts to unique images with varying colors and moods. <br> memorEYES blends sensory learning with rote memorization to make your learning more productive. </p>
							<a href="#extra" class="button medium">Start Memorizing</a>
						</section>
					</div>

				<!-- Extra -->
					<div id="extra">
						<br><br>
						<div class="container">
							<div class="row no-collapse-1" id="moduleSectionWrapper">
<!-- 								<section class="4u"> <a href="#" class="image featured"><img src="images/picture1.jpg" alt=""></a>
									<div class="box">
										<p id="title1">title1</p>
										<p id="text1">text1</p>
										<a href="memoreyes.php?id=27u6rKLrQy" class="button">Memorize Now</a> </div>
								</section>
								<section class="4u"> <a href="#" class="image featured"><img src="images/picture2.jpg" alt=""></a>
									<div class="box">
										<p id="title2">title2</p>
										<p id="text2">text2</p>
										<a href="memoreyes.php?id=LZ1OBo9QEP" class="button">Memorize Now</a> </div>
								</section>
								<section class="4u"> <a href="#" class="image featured"><img src="images/picture3.jpg" alt=""></a>
									<div class="box">
										<p id="title3">title3</p>
										<p id="text3">text3</p>
										<a href="memoreyes.php?id=ffZOpIfzm5" class="button">Memorize Now</a> </div>
								</section> -->

						</div>
						<br>
						<div id='wrapper'>
							<div id='col1'>
								<a class="button navButtonLeft" id="prevModules" style='float:left;'><</a>								
							</div>
							<div id='col2'>
							</div>
							<div id='col3'>
								<a class="button navButtonRight" id="nextModules" style='float:right;'>></a>								
							</div>
						</div>


					</div>
					<!-- Footer -->
					<br>
						<div id="footer" class="wrapper style2">
							<div class="container">
								<section>
									<header class="major">
										<h2>What would you like to memorize?</h2>
										<span class="byline">Enter the text you would like to memorize:</span>
									</header>
									<form id="createForm"><!--change action to be equal to memoreyes.php-->
										<div class="row half">
											<div class="12u">
												<input class="text" type="text" name="title" id="title" placeholder="Title" />
											</div>
										</div>
										<div class="row half">
											<div class="12u">
												<input class="text" type="text" name="author" id="details" placeholder="Author" />
											</div>
										</div>
										<div class="row half">
											<div class="12u">
												<textarea name="input" id="text" placeholder="Text"></textarea>
											</div>
										</div>
										<div class="row half">
											<div class="12u">
												<ul class="actions">
													<li>
														<input type="submit" id = "create" value="MemorEYES Now" class="button alt" />
													</li>
												</ul>
											</div>
										</div>
									</form>
								</section>
							</div>
						</div>
				
							</div>
						</div>
					</div>

	</div>
	</body>
</html>
